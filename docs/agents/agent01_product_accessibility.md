# Agent 01: Product & Accessibility 仕様書

## 1. 目的

ASD（自閉スペクトラム症）およびLD（学習障害）のある子どもたちが、安心して「目の動き」トレーニングに取り組めるWebゲームを提供する。

### 基本方針
- **刺激制御**: 感覚過敏に配慮し、視覚・聴覚刺激を最小限に抑える
- **予測可能性**: 次に何が起こるか常に分かる設計
- **成功体験重視**: 失敗を責めず、できたことを認める
- **アクセシビリティ**: 誰でも操作できる設計

---

## 2. やること（チェックリスト）

### 設計フェーズ
- [ ] NG演出リストの確定
- [ ] UI文言の日本語定義
- [ ] 設定項目の最終決定
- [ ] キーボード操作の割り当て確定
- [ ] 色・コントラスト仕様の確定

### 実装フェーズ
- [ ] 設定画面の実装
- [ ] キーボードナビゲーションの実装
- [ ] フォーカス表示の実装
- [ ] 音量・効果音設定の実装
- [ ] コントラストモードの実装

### 検証フェーズ
- [ ] NG演出チェックリストによる最終確認
- [ ] キーボードのみでの操作テスト
- [ ] 各設定項目の動作確認
- [ ] 文言の読みやすさ確認

---

## 3. 完了条件

| 項目 | 条件 |
|------|------|
| NG演出 | 禁止項目がすべて排除されている |
| キーボード操作 | マウスなしで全機能が使える |
| 設定保存 | 設定がブラウザに保存され、次回起動時に復元される |
| 文言 | すべて日本語で、小学生低学年でも読める |
| フォーカス | 現在選択中の要素が明確に分かる |
| 失敗時 | 責める表現がない |

---

## 4. NG演出チェックリスト

### 絶対禁止
| 項目 | 理由 | 確認 |
|------|------|------|
| 点滅アニメーション | 光過敏・てんかん誘発リスク | [ ] |
| フラッシュ効果 | 光過敏・てんかん誘発リスク | [ ] |
| 急な画面切り替え | 驚愕反応を引き起こす | [ ] |
| 大きな効果音 | 聴覚過敏への配慮 | [ ] |
| 突然のポップアップ | 予測不能で不安を誘発 | [ ] |
| 派手なパーティクル | 視覚的刺激過多 | [ ] |
| 自動再生BGM | 聴覚過敏・予測不能 | [ ] |
| タイムプレッシャー表示 | 焦りと不安を誘発 | [ ] |
| 赤色での失敗表示 | ネガティブな感情を強調 | [ ] |
| 振動・シェイク演出 | 不安・動揺を誘発 | [ ] |

### 注意して使用
| 項目 | 条件 |
|------|------|
| アニメーション | ゆっくり（0.3秒以上）、予告あり |
| 効果音 | 音量設定可能、短く控えめ |
| 色の変化 | 徐々に変化、急激な変化なし |
| 画面遷移 | フェード使用、0.5秒以上かける |

---

## 5. UI文言の定義

### 画面タイトル
| 画面 | 文言 |
|------|------|
| ホーム | めのうんどう |
| ゲーム選択 | あそびをえらぶ |
| 設定 | せってい |
| 結果 | おわり |

### ボタン
| 機能 | 文言 |
|------|------|
| 開始 | はじめる |
| 次へ | つぎへ |
| 戻る | もどる |
| もう一度 | もういちど |
| ホームへ | さいしょへ |
| 設定を開く | せってい |
| 閉じる | とじる |

### ゲーム中
| 状況 | 文言 |
|------|------|
| 開始前 | じゅんびはいい？ |
| 開始カウント | 3... 2... 1... |
| プレイ中指示 | ○○をみつけよう |
| 成功時 | みつけた！ / できた！ / すごい！ |
| 終了時 | おつかれさま！ |
| 途中終了確認 | やめる？ |

### 設定画面
| 項目 | 文言 |
|------|------|
| 音量 | おとのおおきさ |
| 効果音 | こうかおん |
| 背景色 | はいけいのいろ |
| 文字の大きさ | もじのおおきさ |
| コントラスト | みやすさ |

### 失敗・エラー時（責めない表現）
| 状況 | NG | OK |
|------|-----|-----|
| 見つからなかった | まちがい！ | もういちどさがそう |
| 時間切れ | おそい！ | つぎはもっとゆっくりやろう |
| 操作ミス | だめ！ | こっちをおしてね |

---

## 6. 設定項目の最終定義

### 音声設定
| 項目 | 型 | 初期値 | 範囲 |
|------|-----|--------|------|
| マスター音量 | number | 50 | 0-100 |
| 効果音ON/OFF | boolean | true | - |
| BGM ON/OFF | boolean | false | - |

### 表示設定
| 項目 | 型 | 初期値 | 選択肢 |
|------|-----|--------|--------|
| 背景色 | string | "white" | white, cream, gray, dark |
| 文字サイズ | string | "large" | medium, large, xlarge |
| コントラスト | string | "normal" | normal, high |
| アニメーション | boolean | true | - |

### 背景色の詳細
| 値 | 背景色 | 文字色 |
|-----|--------|--------|
| white | #FFFFFF | #333333 |
| cream | #FFF8E7 | #333333 |
| gray | #E8E8E8 | #222222 |
| dark | #2D2D2D | #F0F0F0 |

### 文字サイズの詳細
| 値 | 本文 | 見出し | ボタン |
|-----|------|--------|--------|
| medium | 18px | 28px | 20px |
| large | 22px | 34px | 24px |
| xlarge | 26px | 40px | 28px |

### ゲーム設定
| 項目 | 型 | 初期値 | 範囲 |
|------|-----|--------|------|
| 難易度 | string | "easy" | easy, normal |
| ターゲット移動速度 | string | "slow" | slow, normal |
| 練習モード | boolean | true | - |

---

## 7. キーボード操作

### グローバル操作
| キー | 動作 |
|------|------|
| Tab | 次の要素へ移動 |
| Shift + Tab | 前の要素へ移動 |
| Enter | 選択・決定 |
| Escape | ホームへ戻る / キャンセル |

### ゲーム中操作
| キー | 動作 |
|------|------|
| Space | アクション（選択・決定） |
| R | リトライ（もう一度） |
| Escape | ホームへ戻る |
| 矢印キー | ターゲット移動（該当ゲームのみ） |

### フォーカス表示仕様
- フォーカス時: 3px solid #4A90D9（青色の枠線）
- 高コントラスト時: 4px solid #000000（黒色の枠線）
- アウトラインオフセット: 2px

---

## 8. 注意書きの文言

### 起動時（初回のみ表示）
```
このアプリは おとがでます
おとをけしたいときは「せってい」からかえられます
```

### 設定画面
```
じぶんにあったせっていをえらんでね
いつでもかえられるよ
```

### ゲーム開始前
```
じゅんびができたら「はじめる」をおしてね
とちゅうでやめたくなったら Escキー をおしてね
```

### ゲーム終了時
```
おつかれさま！
もういちどやる？ それとも さいしょにもどる？
```

### エラー発生時
```
うまくうごかなかったみたい
もういちどためしてみてね
```

---

## 9. 技術要件

### アクセシビリティ対応
- WAI-ARIA属性の適切な使用
- スクリーンリーダー対応（alt属性、aria-label）
- 最小タッチターゲット: 44px x 44px
- カラーのみに依存しない情報伝達

### パフォーマンス
- 初期読み込み: 3秒以内
- 画面遷移: 0.5秒以内
- アニメーションフレームレート: 30fps以下（刺激軽減）

### ブラウザ対応
- Chrome（最新版）
- Safari（最新版）
- Firefox（最新版）
- Edge（最新版）

---

## 10. 改訂履歴

| 日付 | 版 | 内容 |
|------|-----|------|
| 2026-01-16 | 1.0 | 初版作成 |
